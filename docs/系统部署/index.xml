<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>系统部署 on SuperSonic(0.9.10)</title>
    <link>https://supersonicbi.github.io/docs/%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2/</link>
    <description>Recent content in 系统部署 on SuperSonic(0.9.10)</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <atom:link href="https://supersonicbi.github.io/docs/%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Docker部署</title>
      <link>https://supersonicbi.github.io/docs/%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2/docker%E9%83%A8%E7%BD%B2/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://supersonicbi.github.io/docs/%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2/docker%E9%83%A8%E7%BD%B2/</guid>
      <description>&lt;h1 id=&#34;docker部署&#34;&gt;&#xA;  Docker部署&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#docker%e9%83%a8%e7%bd%b2&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;blockquote class=&#34;book-hint info&#34;&gt;&#xA;  SuperSonic最新版本为0.9.10，本文档介绍基于该版本的功能。&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;h2 id=&#34;部署前提&#34;&gt;&#xA;  部署前提&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e9%83%a8%e7%bd%b2%e5%89%8d%e6%8f%90&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;安装Docker和Docker Compose，并启动Docker：&#xA;Docker版本：26.0.0+&lt;br&gt;&#xA;Docker Compose：v2.26.1+&lt;/p&gt;&#xA;&lt;blockquote class=&#34;book-hint danger&#34;&gt;&#xA;  &lt;p&gt;如果报如下错，说明docker没有启动：&lt;/p&gt;&#xA;&lt;p&gt;Cannot connect to the Docker daemon at unix:///Users/lexluo/.docker/run/docker.sock. Is the docker daemon running?&lt;/p&gt;&#xA;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;h2 id=&#34;启动部署&#34;&gt;&#xA;  启动部署&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e5%90%af%e5%8a%a8%e9%83%a8%e7%bd%b2&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;h3 id=&#34;下载docker-composexml文件&#34;&gt;&#xA;  下载docker-compose.xml文件&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e4%b8%8b%e8%bd%bddocker-composexml%e6%96%87%e4%bb%b6&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;wget https://github.com/supersonicbi/supersonic-website/releases/download/0.9.10/docker-compose.yml&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;启动docker-compose&#34;&gt;&#xA;  启动docker-compose&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e5%90%af%e5%8a%a8docker-compose&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;docker-compose -f docker-compose.yml up -d&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;正常会启动运行两个容器：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;strong&gt;supersonic_postgres&lt;/strong&gt;: 存储SuperSonic元数据，以及采用pgvector插件存储Embedding向量&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;strong&gt;supersonic_standalone&lt;/strong&gt;: 启动SuperSonic前后端服务&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;blockquote class=&#34;book-hint info&#34;&gt;&#xA;  &lt;p&gt;&lt;strong&gt;注意&lt;/strong&gt;&#xA;镜像下载慢，可配置国内镜像源，许多国内的云服务提供商提供了Docker镜像加速服务。你可以配置Docker使用这些镜像源来加速下载。&#xA;以阿里云为例：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;登录阿里云控制台，进入容器镜像服务。&lt;/li&gt;&#xA;&lt;li&gt;在左侧导航栏中选择“镜像加速器”。&lt;/li&gt;&#xA;&lt;li&gt;复制加速器地址，例如 https://&lt;!-- raw HTML omitted --&gt;.mirror.aliyuncs.com。&lt;/li&gt;&#xA;&lt;li&gt;编辑 Docker 配置文件 /etc/docker/daemon.json，添加以下内容：&lt;br&gt;&#xA;{&#xA;&amp;ldquo;registry-mirrors&amp;rdquo;: [&amp;ldquo;https://&lt;!-- raw HTML omitted --&gt;.mirror.aliyuncs.com&amp;rdquo;]&#xA;}&lt;/li&gt;&#xA;&lt;li&gt;重启 Docker 服务：&lt;br&gt;&#xA;sudo systemctl daemon-reload&lt;br&gt;&#xA;sudo systemctl restart docker&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;h2 id=&#34;运维操作&#34;&gt;&#xA;  运维操作&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e8%bf%90%e7%bb%b4%e6%93%8d%e4%bd%9c&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;1 查看进程运行状况：&lt;/p&gt;</description>
    </item>
    <item>
      <title>安装包部署</title>
      <link>https://supersonicbi.github.io/docs/%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2/%E5%AE%89%E8%A3%85%E5%8C%85%E9%83%A8%E7%BD%B2/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://supersonicbi.github.io/docs/%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2/%E5%AE%89%E8%A3%85%E5%8C%85%E9%83%A8%E7%BD%B2/</guid>
      <description>&lt;h1 id=&#34;安装包部署&#34;&gt;&#xA;  安装包部署&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e5%ae%89%e8%a3%85%e5%8c%85%e9%83%a8%e7%bd%b2&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;blockquote class=&#34;book-hint info&#34;&gt;&#xA;  &lt;p&gt;SuperSonic最新版本为0.9.10，本文档介绍基于该版本的功能。&lt;/p&gt;&#xA;&lt;p&gt;0.9.10下载地址：&lt;a href=&#34;https://github.com/supersonicbi/supersonic-website/releases/download/0.9.10/supersonic-release-0.9.10.zip&#34;&gt;点击下载&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;0.9.8下载地址：&lt;a href=&#34;https://github.com/tencentmusic/supersonic/releases/download/v0.9.8/supersonic-standalone-0.9.8.zip&#34;&gt;点击下载&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;下载到SuperSonic的zip安装包后解压，然后只需要两步即可启动：1. 配置数据库；2. 运行启动脚本&lt;/p&gt;&#xA;&lt;h2 id=&#34;配置db&#34;&gt;&#xA;  配置DB&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e9%85%8d%e7%bd%aedb&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;blockquote class=&#34;book-hint danger&#34;&gt;&#xA;  &lt;p&gt;&lt;strong&gt;注意&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;系统默认使用H2内存数据库, 重启后会丢失数据, 若需要替换为自己的持久化数据库, 请按以下进行配置.&lt;/p&gt;&#xA;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;h3 id=&#34;1-初次部署&#34;&gt;&#xA;  1. 初次部署&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#1-%e5%88%9d%e6%ac%a1%e9%83%a8%e7%bd%b2&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;p&gt;在bin/supersonic-env.sh脚本中配置数据库相关参数，当前系统默认支持 h2, mysql, postgres：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# Supported DB_TYPE:  h2, mysql, postgres&#xA;export S2_DB_TYPE=mysql&#xA;export S2_DB_HOST=localhost&#xA;export S2_DB_PORT=3306&#xA;export S2_DB_USER=mysql&#xA;export S2_DB_PASSWORD=mysql&#xA;export S2_DB_DATABASE=mysql&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;2-升级部署&#34;&gt;&#xA;  2. 升级部署&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#2-%e5%8d%87%e7%ba%a7%e9%83%a8%e7%bd%b2&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;p&gt;升级部署时，需要将schema升级到最新版本，请手动执行脚本：conf/db/sql-update.sql&lt;/p&gt;&#xA;&lt;h2 id=&#34;运行启动脚本&#34;&gt;&#xA;  运行启动脚本&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e8%bf%90%e8%a1%8c%e5%90%af%e5%8a%a8%e8%84%9a%e6%9c%ac&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sh bin/supersonic-daemon.sh start&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>源码编译部署</title>
      <link>https://supersonicbi.github.io/docs/%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2/%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E9%83%A8%E7%BD%B2/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://supersonicbi.github.io/docs/%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2/%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E9%83%A8%E7%BD%B2/</guid>
      <description>&lt;h1 id=&#34;源码编译部署&#34;&gt;&#xA;  源码编译部署&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e6%ba%90%e7%a0%81%e7%bc%96%e8%af%91%e9%83%a8%e7%bd%b2&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;p&gt;SuperSonic为二次开发提供两种编译部署方式：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;在开发调试场景，直接从本地IDE启动；&lt;/li&gt;&#xA;&lt;li&gt;在开发部署场景，从源代码编译打包。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h1 id=&#34;本地ide启动&#34;&gt;&#xA;  本地IDE启动&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e6%9c%ac%e5%9c%b0ide%e5%90%af%e5%8a%a8&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;code&gt;sh assembly/bin/supersonic-build.sh webapp&lt;/code&gt; 执行构建webapp&#xA;注：前端编译需要Node，推荐安装版本v20.16.0&lt;/li&gt;&#xA;&lt;li&gt;IDE本地启动Java类com.tencent.supersonic.StandaloneLauncher&#xA;注：后端编译需要JDK，需要安装&lt;strong&gt;21&lt;/strong&gt;以上版本&lt;/li&gt;&#xA;&lt;li&gt;访问浏览器：http://localhost:9080&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h1 id=&#34;源代码编译包启动&#34;&gt;&#xA;  源代码编译包启动&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e6%ba%90%e4%bb%a3%e7%a0%81%e7%bc%96%e8%af%91%e5%8c%85%e5%90%af%e5%8a%a8&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;下载相应版本&lt;a href=&#34;https://github.com/tencentmusic/supersonic&#34;&gt;source code&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;执行编译脚本：&lt;code&gt;sh assembly/bin/supersonic-build.sh&lt;/code&gt;&#xA;注：前端编译需要Node，推荐安装版本v20.16.0；后端编译需要JDK，需要安装&lt;strong&gt;17&lt;/strong&gt;以上版本&lt;/li&gt;&#xA;&lt;li&gt;编译完成后从&lt;code&gt;assembly/build&lt;/code&gt;目录获取release包&lt;/li&gt;&#xA;&lt;li&gt;解压release包，&lt;code&gt;unzip supersonic-standalone-{revision}.zip&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;进行release目录，执行启动脚本&lt;code&gt;sh bin/supersonic-daemon.sh start&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;访问浏览器：http://localhost:9080&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h1 id=&#34;附加说明&#34;&gt;&#xA;  附加说明&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e9%99%84%e5%8a%a0%e8%af%b4%e6%98%8e&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Windows环境均有提供对应的bat脚本, 执行即可。&lt;/li&gt;&#xA;&lt;li&gt;Ubuntu环境, 启动方式同上,  若出现报错, 可尝试https://support.huaweicloud.com/intl/zh-cn/deployman_faq/deployman_faq_1016.html。&lt;/li&gt;&#xA;&lt;li&gt;启动之后, 可以到logs目录下查看日志，确认启动正常。&lt;/li&gt;&#xA;&lt;/ol&gt;</description>
    </item>
  </channel>
</rss>
