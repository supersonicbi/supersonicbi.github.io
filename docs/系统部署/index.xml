<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>系统部署 on SuperSonic</title>
    <link>https://supersonicbi.github.io/docs/%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2/</link>
    <description>Recent content in 系统部署 on SuperSonic</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <atom:link href="https://supersonicbi.github.io/docs/%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Docker部署</title>
      <link>https://supersonicbi.github.io/docs/%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2/docker%E9%83%A8%E7%BD%B2/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://supersonicbi.github.io/docs/%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2/docker%E9%83%A8%E7%BD%B2/</guid>
      <description>&lt;h1 id=&#34;部署前提&#34;&gt;&#xA;  部署前提&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e9%83%a8%e7%bd%b2%e5%89%8d%e6%8f%90&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;p&gt;下载安装Docker和Docker Compose，并启动docker&lt;br&gt;&#xA;Docker版本：26.0.0+&lt;br&gt;&#xA;Docker Compose：v2.26.1+&lt;/p&gt;&#xA;&lt;blockquote class=&#34;book-hint info&#34;&gt;&#xA;  &lt;p&gt;&lt;strong&gt;注意&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;1 如果报如下错:&lt;br&gt;&#xA;Cannot connect to the Docker daemon at unix:///Users/lexluo/.docker/run/docker.sock. Is the docker daemon running?&lt;br&gt;&#xA;说明docker没有启动&lt;/p&gt;&#xA;&lt;p&gt;2 supersonic_db_init主要作用是数据库数据初始化，不是常驻服务。执行完成后，exited是正常现象。&lt;/p&gt;&#xA;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;h1 id=&#34;启动部署&#34;&gt;&#xA;  启动部署&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e5%90%af%e5%8a%a8%e9%83%a8%e7%bd%b2&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;h2 id=&#34;进入docker目录执行脚步启动&#34;&gt;&#xA;  进入docker目录，执行脚步启动&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e8%bf%9b%e5%85%a5docker%e7%9b%ae%e5%bd%95%e6%89%a7%e8%a1%8c%e8%84%9a%e6%ad%a5%e5%90%af%e5%8a%a8&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;&lt;code&gt;docker-compose up -d&lt;/code&gt;&#xA;&lt;blockquote class=&#34;book-hint info&#34;&gt;&#xA;  &lt;strong&gt;注意&lt;/strong&gt;&#xA;支持按SuperSonic版本启动，不指定版本默认是：latest&lt;br&gt;&#xA;&lt;code&gt;SUPERSONIC_VERSION=0.9.2-SNAPSHOT docker-compose up -d&lt;/code&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;/p&gt;</description>
    </item>
    <item>
      <title>编译构建</title>
      <link>https://supersonicbi.github.io/docs/%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2/%E7%BC%96%E8%AF%91%E6%9E%84%E5%BB%BA/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://supersonicbi.github.io/docs/%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2/%E7%BC%96%E8%AF%91%E6%9E%84%E5%BB%BA/</guid>
      <description>&lt;h1 id=&#34;编译构建&#34;&gt;&#xA;  编译构建&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e7%bc%96%e8%af%91%e6%9e%84%e5%bb%ba&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;p&gt;SuperSonic为二次开发提供两种编译构建方式：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;在开发调试场景，直接从本地IDE启动；&lt;/li&gt;&#xA;&lt;li&gt;在开发部署场景，从源代码编译打包。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h1 id=&#34;本地ide启动&#34;&gt;&#xA;  本地IDE启动&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e6%9c%ac%e5%9c%b0ide%e5%90%af%e5%8a%a8&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;code&gt;sh assembly/bin/supersonic-build.sh webapp&lt;/code&gt; 执行构建webapp&#xA;注：前端编译需要Node，推荐安装版本v20.16.0&lt;/li&gt;&#xA;&lt;li&gt;IDE本地启动Java类com.tencent.supersonic.StandaloneLauncher&#xA;注：后端编译需要JDK，推荐安装版本11&lt;/li&gt;&#xA;&lt;li&gt;访问浏览器：http://localhost:9080&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h1 id=&#34;源代码编译包启动&#34;&gt;&#xA;  源代码编译包启动&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e6%ba%90%e4%bb%a3%e7%a0%81%e7%bc%96%e8%af%91%e5%8c%85%e5%90%af%e5%8a%a8&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;下载相应版本&lt;a href=&#34;https://github.com/tencentmusic/supersonic&#34;&gt;source code&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;执行编译脚本：&lt;code&gt;sh assembly/bin/supersonic-build.sh&lt;/code&gt;&#xA;注：前端编译需要Node，推荐安装版本v20.16.0；后端编译需要JDK，推荐安装版本11&lt;/li&gt;&#xA;&lt;li&gt;编译完成后从&lt;code&gt;assembly/build&lt;/code&gt;目录获取release包&lt;/li&gt;&#xA;&lt;li&gt;解压release包，&lt;code&gt;unzip supersonic-standalone-{revision}.zip&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;进行release目录，执行启动脚本&lt;code&gt;sh bin/supersonic-daemon.sh start&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;访问浏览器：http://localhost:9080&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h1 id=&#34;附加说明&#34;&gt;&#xA;  附加说明&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e9%99%84%e5%8a%a0%e8%af%b4%e6%98%8e&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Windows环境均有提供对应的bat脚本, 执行即可。&lt;/li&gt;&#xA;&lt;li&gt;Ubuntu环境, 启动方式同上,  若出现报错, 可尝试https://support.huaweicloud.com/intl/zh-cn/deployman_faq/deployman_faq_1016.html。&lt;/li&gt;&#xA;&lt;li&gt;启动之后, 可以到logs目录下查看日志，确认启动正常。&lt;/li&gt;&#xA;&lt;/ol&gt;</description>
    </item>
    <item>
      <title>配置DB</title>
      <link>https://supersonicbi.github.io/docs/%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2/%E9%85%8D%E7%BD%AEdb/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://supersonicbi.github.io/docs/%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2/%E9%85%8D%E7%BD%AEdb/</guid>
      <description>&lt;h1 id=&#34;配置db&#34;&gt;&#xA;  配置DB&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e9%85%8d%e7%bd%aedb&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;blockquote class=&#34;book-hint danger&#34;&gt;&#xA;  &lt;p&gt;&lt;strong&gt;注意&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;系统默认使用H2内存数据库, 重启后会丢失数据, 若需要替换为自己的MySQL, 请按以下进行配置.&lt;/p&gt;&#xA;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;h2 id=&#34;1-执行sql脚本&#34;&gt;&#xA;  1. 执行SQL脚本&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#1-%e6%89%a7%e8%a1%8csql%e8%84%9a%e6%9c%ac&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;初次配置DB&lt;/strong&gt;请依次执行conf/db下schema-mysql.sql、 data-mysql.sql, 这两个脚本均为最新表结构&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;若是已配置过DB并部署好的服务&lt;/strong&gt;, 可参考sql-update.sql, 这里会注明每次功能改动需要改动的表结构&lt;/p&gt;&#xA;&lt;h2 id=&#34;2-配置yaml文件&#34;&gt;&#xA;  2. 配置YAML文件&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#2-%e9%85%8d%e7%bd%aeyaml%e6%96%87%e4%bb%b6&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;conf下application-local.yaml中默认的DB配置为H2配置, 替换为自己的MySQL即可&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;spring:&#xA;  datasource:&#xA;    url: jdbc:mysql://localhost:3306/your_database?useUnicode=true&amp;amp;characterEncoding=UTF-8&amp;amp;useSSL=false&amp;amp;allowMultiQueries=true&#xA;    username: your_username&#xA;    password: your_password&#xA;    driver-class-name: com.mysql.jdbc.Driver&#xA;&lt;/code&gt;&lt;/pr</description>
    </item>
    <item>
      <title>配置LLM</title>
      <link>https://supersonicbi.github.io/docs/%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2/%E9%85%8D%E7%BD%AEllm/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://supersonicbi.github.io/docs/%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2/%E9%85%8D%E7%BD%AEllm/</guid>
      <description>&lt;h1 id=&#34;配置llm&#34;&gt;&#xA;  配置LLM&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e9%85%8d%e7%bd%aellm&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;h2 id=&#34;chat-model&#34;&gt;&#xA;  Chat Model&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#chat-model&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;SuperSonic可以从两个粒度配置Chat Model：&lt;/p&gt;&#xA;&lt;h3 id=&#34;1-系统粒度&#34;&gt;&#xA;  &lt;strong&gt;1. 系统粒度&lt;/strong&gt;&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#1-%e7%b3%bb%e7%bb%9f%e7%b2%92%e5%ba%a6&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;h4 id=&#34;12修改langchain4jyaml配置文件方式&#34;&gt;&#xA;  &lt;strong&gt;1.2.修改langchain4j.yaml配置文件方式&lt;/strong&gt;&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#12%e4%bf%ae%e6%94%b9langchain4jyaml%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6%e6%96%b9%e5%bc%8f&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h4&gt;&#xA;&lt;p&gt;从0.9.4版本开始，langchain4j配置从application.yaml文件中单独抽取，方便用户配置；以langchain4j-local.yaml为例配置：&lt;/p&gt;&#xA;&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://supersonicbi.github.io/img/supersonic_langchain4j_config.png#center&#34;&gt;&#xA;&lt;/figure&gt;&#xA;&#xA;目前支持：open-ai、ollama两种方式；&#xA;1、open_ai 用于连接云端模型；通常情况下各云上模型会兼容open-ai协议&#xA;2、ollama 用于连接本地模型；由ollama适配不同的模型&lt;/p&gt;&#xA;&lt;blockquote class=&#34;book-hint info&#34;&gt;&#xA;  &lt;strong&gt;注意&lt;/strong&gt;&#xA;推荐使用open_ai、ollama；其他azure、qianfan、dashscope、zhipu方式理论上也支持，但是待验证；&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;open-ai 配置方式：&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
